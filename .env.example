# Aiva.io - Complete Environment Variables Template
# Copy this file to .env.local and fill in your values

# =============================================================================
# SUPABASE (Required)
# =============================================================================
# Get from: https://supabase.com/dashboard/project/[project-id]/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://lgyewlqzelxkpawnmiog.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
SUPABASE_PROJECT_REF=lgyewlqzelxkpawnmiog
SUPABASE_JWT_SECRET=your_jwt_secret_here
SUPABASE_DATABASE_PASSWORD=your_db_password_here

# =============================================================================
# APPLICATION URLS
# =============================================================================
NEXT_PUBLIC_SITE_URL=https://www.tryaiva.io

# For local webhook testing with ngrok (optional)
# Get from: https://ngrok.com/ - for local webhook testing
APP_URL=https://your-ngrok-subdomain.ngrok-free.dev
NGROK_DOMAIN=your-ngrok-subdomain.ngrok-free.dev

# =============================================================================
# SHOPIFY INTEGRATION (Optional - for Shopify App)
# =============================================================================
# Get from: https://partners.shopify.com/
# Create: New App → Get API credentials
SHOPIFY_API_KEY=your_shopify_api_key
SHOPIFY_API_SECRET=your_shopify_api_secret
SHOPIFY_APP_URL=https://www.tryaiva.io
SCOPES=write_products,read_orders

# =============================================================================
# GMAIL + GOOGLE CALENDAR INTEGRATION (High Priority)
# =============================================================================
# Get from: https://console.cloud.google.com/
# 1. Create Project
# 2. Enable: Gmail API, Google Calendar API
# 3. Create OAuth 2.0 Client ID (Web application)
# 4. Add Redirect URI: https://www.tryaiva.io/api/auth/gmail/callback
GOOGLE_CLIENT_ID=your_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your_client_secret

# Gmail Push Notifications (Optional - for real-time message ingestion)
# Get from: Google Cloud Console → Pub/Sub → Create Topic
GOOGLE_PUBSUB_TOPIC=projects/your-project-id/topics/gmail-push-notifications

# =============================================================================
# OUTLOOK + OUTLOOK CALENDAR INTEGRATION (High Priority)
# =============================================================================
# Get from: https://portal.azure.com/ → App registrations
# 1. Register new application
# 2. Add API Permissions: Mail.ReadWrite, Mail.Send, Calendars.ReadWrite, User.Read
# 3. Create Client Secret
# 4. Add Redirect URI: https://www.tryaiva.io/api/auth/outlook/callback
AZURE_CLIENT_ID=your_azure_client_id
AZURE_CLIENT_SECRET=your_azure_client_secret
AZURE_TENANT_ID=common

# Alternative names (if needed by code)
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret

# Microsoft Teams OAuth (separate app from Outlook)
# Get from: Azure Portal → App registrations → "Aiva.io Teams" app
TEAMS_CLIENT_ID=your_teams_client_id
TEAMS_CLIENT_SECRET=your_teams_client_secret
TEAMS_TENANT_ID=common

# =============================================================================
# AI FEATURES (Critical)
# =============================================================================
# Get from: https://platform.openai.com/api-keys
# Used for: Message classification, reply generation, task extraction, scheduling detection
# Models used: GPT-4o (replies), GPT-4o-mini (classification), Whisper (voice transcription)
OPENAI_API_KEY=sk-proj-your_openai_api_key_here

# =============================================================================
# VOICE ASSISTANT - ELEVENLABS (Pro Feature)
# =============================================================================
# Get from: https://elevenlabs.io/app/settings/api-keys
# Used for: Voice Aiva - text-to-speech conversion
# Voice IDs: https://elevenlabs.io/app/voice-library
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
# Default voice ID - Rachel (neutral, professional) - can be changed in settings
# Popular voices: 21m00Tcm4TlvDq8ikWAM (Rachel), EXAVITQu4vr4xnSDxMaL (Bella)
ELEVENLABS_VOICE_ID=21m00Tcm4TlvDq8ikWAM

# =============================================================================
# SLACK INTEGRATION (Optional - Foundation Ready)
# =============================================================================
# Get from: https://api.slack.com/apps
# 1. Create New App → From scratch
# 2. Add OAuth Scopes: channels:read, channels:history, chat:write, users:read
# 3. Add Redirect URI: https://www.tryaiva.io/api/auth/slack/callback
SLACK_CLIENT_ID=your_slack_client_id
SLACK_CLIENT_SECRET=your_slack_client_secret
SLACK_SIGNING_SECRET=your_slack_signing_secret

# =============================================================================
# STRIPE (Optional - for Billing via Nextbase)
# =============================================================================
# Get from: https://dashboard.stripe.com/apikeys
# Use test keys for development, live keys for production
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# =============================================================================
# ANALYTICS (Optional)
# =============================================================================
# PostHog - Get from: https://posthog.com/
NEXT_PUBLIC_POSTHOG_API_KEY=phc_...
NEXT_PUBLIC_POSTHOG_APP_ID=your_app_id
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Google Analytics - Get from: https://analytics.google.com/
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# =============================================================================
# ERROR TRACKING (Optional)
# =============================================================================
# Sentry - Get from: https://sentry.io/
SENTRY_DSN=https://...@sentry.io/...
NEXT_PUBLIC_SENTRY_DSN=https://...@sentry.io/...

# =============================================================================
# API KEY MANAGEMENT (Optional)
# =============================================================================
# Unkey - Get from: https://unkey.dev/
UNKEY_ROOT_KEY=unkey_...
UNKEY_API_ID=api_...

# =============================================================================
# EMAIL SERVICE (Required for Custom Email Templates)
# =============================================================================
# Resend - Get from: https://resend.com/
# Configure Supabase SMTP to use Resend for custom email templates
# See docs/CUSTOM_EMAIL_SETUP.md for full setup instructions
RESEND_API_KEY=re_...
# Resend Webhook Secret - Get from: https://resend.com/webhooks
# Used to verify webhook signatures from Resend
RESEND_WEBHOOK_SECRET=whsec_...

# =============================================================================
# TWITTER/X INTEGRATION (High Priority)
# =============================================================================
# Get from: https://developer.twitter.com/en/portal/dashboard
# 1. Create App → Get API Keys
# 2. Enable OAuth 2.0
# 3. Add Redirect URI: https://www.tryaiva.io/api/auth/twitter/callback
TWITTER_CLIENT_ID=your_twitter_client_id
TWITTER_CLIENT_SECRET=your_twitter_client_secret
# Alternative names (if needed)
TWITTER_API_KEY=your_twitter_api_key
TWITTER_API_SECRET=your_twitter_api_secret

# =============================================================================
# TELEGRAM INTEGRATION (High Priority)
# =============================================================================
# Get from: https://core.telegram.org/bots/tutorial
# 1. Create bot via @BotFather on Telegram
# 2. Get bot token
# 3. Set webhook: https://api.telegram.org/bot<TOKEN>/setWebhook?url=https://www.tryaiva.io/api/webhooks/telegram?secret=<SECRET>
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_WEBHOOK_SECRET=your_webhook_secret

# =============================================================================
# LINKEDIN INTEGRATION (High Priority)
# =============================================================================
# Get from: https://www.linkedin.com/developers/apps
# 1. Create App
# 2. Add OAuth 2.0 redirect URI: https://www.tryaiva.io/api/auth/linkedin/callback
# 3. Request required scopes: w_member_social, r_liteprofile
LINKEDIN_CLIENT_ID=your_linkedin_client_id
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret

# =============================================================================
# GOOGLE CALENDAR INTEGRATION (High Priority)
# =============================================================================
# Get from: https://console.cloud.google.com/
# 1. Enable Google Calendar API
# 2. Use same OAuth credentials as Gmail OR create separate client
# 3. Add Redirect URI: https://www.tryaiva.io/api/auth/google-calendar/callback
GOOGLE_CALENDAR_CLIENT_ID=your_google_calendar_client_id
GOOGLE_CALENDAR_CLIENT_SECRET=your_google_calendar_client_secret
# Can also use Gmail credentials if same app
# GOOGLE_CALENDAR_CLIENT_ID=${GOOGLE_CLIENT_ID}
# GOOGLE_CALENDAR_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}

# =============================================================================
# OUTLOOK CALENDAR INTEGRATION (High Priority)
# =============================================================================
# Get from: https://portal.azure.com/ → App registrations
# 1. Use same app as Outlook email OR create separate app
# 2. Add API Permissions: Calendars.ReadWrite, User.Read
# 3. Add Redirect URI: https://www.tryaiva.io/api/auth/outlook-calendar/callback
# Can use same credentials as Outlook email if same app
# OUTLOOK_CALENDAR_CLIENT_ID=${MICROSOFT_CLIENT_ID}
# OUTLOOK_CALENDAR_CLIENT_SECRET=${MICROSOFT_CLIENT_SECRET}

# =============================================================================
# OAUTH PROVIDERS (Optional - for Nextbase Auth)
# =============================================================================
# GitHub OAuth
GITHUB_CLIENT_ID=...
GITHUB_CLIENT_SECRET=...

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================
ADMIN_EMAIL=admin@tryaiva.io

# =============================================================================
# ENVIRONMENT
# =============================================================================
NODE_ENV=development

# =============================================================================
# RENDER.COM DEPLOYMENT
# =============================================================================
# For Render Blueprint deployment:
#
# Quick Deploy:
# 1. Fork or push this repo to GitHub
# 2. Go to https://dashboard.render.com/blueprints
# 3. Click "New Blueprint Instance"
# 4. Connect your repository
# 5. Render will detect render.yaml and create services automatically
# 6. Fill in the environment variables in the Render Dashboard
#
# Environment Variables to Set in Render:
# - NEXT_PUBLIC_SUPABASE_URL
# - NEXT_PUBLIC_SUPABASE_ANON_KEY
# - SUPABASE_SERVICE_ROLE_KEY
# - SUPABASE_PROJECT_REF
# - SUPABASE_JWT_SECRET
# - NEXT_PUBLIC_SITE_URL (your Render URL: https://aiva-web.onrender.com)
# - OPENAI_API_KEY
# - STRIPE_SECRET_KEY (optional, for billing)
# - And other integration keys as needed
#
# After Deployment:
# 1. Verify health check: https://your-app.onrender.com/api/health
# 2. Update Supabase Auth redirect URLs
# 3. Configure webhook endpoints for Stripe
# 4. Update OAuth callback URLs in Google/Microsoft consoles

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying to production:
# 1. Update NEXT_PUBLIC_SITE_URL to your production domain
# 2. Update all OAuth redirect URIs in provider consoles to production URLs
# 3. Use production API keys (not test keys) for:
#    - Stripe (sk_live_... and pk_live_...)
#    - OpenAI (production key with appropriate rate limits)
# 4. Configure webhook URLs to use your production domain
# 5. Set up proper environment variables in your hosting platform
# 6. Enable error tracking (Sentry) for production monitoring
# 7. Configure analytics (PostHog/GA) for production tracking
# 8. Run database migrations: supabase db push
# 9. Verify health endpoint: /api/health

